{"ast":null,"code":"import _toConsumableArray from\"/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import\"./newProduct.css\";import{getStorage,ref,uploadBytesResumable,getDownloadURL}from\"firebase/storage\";import app from\"../../firebase\";import{useDispatch}from\"react-redux\";import{addProducts}from'../../redux/apiCalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewProduct(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),file=_useState4[0],setFile=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cat=_useState6[0],setCat=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),color=_useState8[0],setColor=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),size=_useState10[0],setSize=_useState10[1];var dispatch=useDispatch();var handleChange=function handleChange(e){setInputs(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},e.target.name,e.target.value));});};var handleCat=function handleCat(e){if(!cat.includes(e.target.value)){setCat(function(cat){return[].concat(_toConsumableArray(cat),[e.target.value]);});}else if(cat.includes(e.target.value)){cat.map(function(c,index){console.log('here');if(c===e.target.value&&!e.target.checked){console.log('found');cat.splice(index,1);setCat(cat);}});}console.log(cat);};var handleColor=function handleColor(e){if(!color.includes(e.target.value)){setColor(function(color){return[].concat(_toConsumableArray(color),[e.target.value]);});}else if(color.includes(e.target.value)){color.map(function(c,index){console.log('here');if(c===e.target.value&&!e.target.checked){console.log('found');color.splice(index,1);setColor(color);}});}console.log(color);};var handleSize=function handleSize(e){if(!size.includes(e.target.value)){setSize(function(size){return[].concat(_toConsumableArray(size),[e.target.value]);});}else if(size.includes(e.target.value)){size.map(function(c,index){console.log('here');if(c===e.target.value&&!e.target.checked){console.log('found');size.splice(index,1);setSize(size);}});}console.log(size);};// const handleColor = (e) => {\n//   setColor(e.target.value.split(','))\n// }\n// const handleSize = (e) => {\n//   setSize(e.target.value.split(','))\n// }\nvar handleClick=function handleClick(e){e.preventDefault();var fileName=new Date().getTime()+file.name;var storage=getStorage(app);var StorageRef=ref(storage,fileName);var uploadTask=uploadBytesResumable(StorageRef,file);// Register three observers:\n// 1. 'state_changed' observer, called any time the state changes\n// 2. Error observer, called on failure\n// 3. Completion observer, called on successful completion\nuploadTask.on('state_changed',function(snapshot){// Observe state change events such as progress, pause, and resume\n// Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\nvar progress=snapshot.bytesTransferred/snapshot.totalBytes*100;console.log('Upload is '+progress+'% done');switch(snapshot.state){case'paused':console.log('Upload is paused');break;case'running':console.log('Upload is running');break;default:}},function(error){// Handle unsuccessful uploads\n},function(){// Handle successful uploads on complete\n// For instance, get the download URL: https://firebasestorage.googleapis.com/...\ngetDownloadURL(uploadTask.snapshot.ref).then(function(downloadURL){// console.log('File available at', downloadURL);\nvar product=_objectSpread(_objectSpread({},inputs),{},{img:downloadURL,categories:cat,color:color,size:size});console.log(product);addProducts(product,dispatch);});});};useEffect(function(){},[cat]);return/*#__PURE__*/_jsxs(\"div\",{className:\"newProduct\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"addProductTitle\",children:\"New Product\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"addProductForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",onChange:function onChange(e){return setFile(e.target.files[0]);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{name:\"title\",type:\"text\",placeholder:\"Apple Airpods\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{name:\"price\",type:\"number\",placeholder:\"Price\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{name:\"desc\",type:\"text\",placeholder:\"Description\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"checkbox-grid\",name:\"categories\",onChange:handleCat,children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"categories\",value:\"kids\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text1\",children:\"Kids\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"categories\",value:\"women\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text2\",children:\"Women\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"categories\",value:\"men\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text3\",children:\"Men\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"categories\",value:\"shirt\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text4\",children:\"TShirts\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"categories\",value:\"bottoms\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text5\",children:\"Bottoms\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"categories\",value:\"jewlery\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text6\",children:\"Jewlery\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"categories\",value:\"sale\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text7\",children:\"Sale\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"categories\",value:\"other\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text8\",children:\"Other\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Color\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"checkbox-grid\",name:\"color\",onChange:handleColor,children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"color\",value:\"black\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text1\",children:\"Black\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"color\",value:\"white\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text2\",children:\"White\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"color\",value:\"red\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text3\",children:\"Red\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"color\",value:\"blue\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text4\",children:\"Blue\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"color\",value:\"yellow\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text5\",children:\"Yellow\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"color\",value:\"green\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text6\",children:\"Green\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"color\",value:\"pink\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text7\",children:\"Pink\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"color\",value:\"other\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text8\",children:\"Other\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Size\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"checkbox-grid\",name:\"size\",onChange:handleSize,children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"size\",value:\"XS\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text1\",children:\"XS\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"size\",value:\"S\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text2\",children:\"S\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"size\",value:\"M\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text3\",children:\"M\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"size\",value:\"L\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text4\",children:\"L\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"size\",value:\"XL\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text5\",children:\"XL\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"size\",value:\"XXL\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text6\",children:\"XXL\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"size\",value:\"XXXL\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text7\",children:\"XXXL\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"size\",value:\"other\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text8\",children:\"Other\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stock\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"inStock\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"No\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,className:\"addProductButton\",children:\"Create\"})]})]});}","map":{"version":3,"sources":["/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/src/pages/newProduct/NewProduct.jsx"],"names":["useEffect","useState","getStorage","ref","uploadBytesResumable","getDownloadURL","app","useDispatch","addProducts","NewProduct","inputs","setInputs","file","setFile","cat","setCat","color","setColor","size","setSize","dispatch","handleChange","e","prev","target","name","value","handleCat","includes","map","c","index","console","log","checked","splice","handleColor","handleSize","handleClick","preventDefault","fileName","Date","getTime","storage","StorageRef","uploadTask","on","snapshot","progress","bytesTransferred","totalBytes","state","error","then","downloadURL","product","img","categories","files"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"./newProduct.css\";\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport app from \"../../firebase\"\nimport { useDispatch } from \"react-redux\";\nimport {addProducts} from '../../redux/apiCalls'\n\n\n\nexport default function NewProduct() {\n  const [inputs, setInputs] = useState({})\n  const [file, setFile] = useState(null)\n  const [cat, setCat] = useState([])\n  const [color, setColor] = useState([] )\n  const [size, setSize] = useState([])\n  const dispatch = useDispatch()\n\n  const handleChange =(e) => {\n    setInputs(prev=>{\n      return {...prev, [e.target.name]: e.target.value}\n    })\n  }\n\n\n  const handleCat = (e) => {        \n    if(!cat.includes(e.target.value)){\n      setCat(cat =>  [...cat, e.target.value])\n    }else if(cat.includes(e.target.value)){\n      cat.map((c, index) => {\n        console.log('here');\n        if(c === e.target.value && !e.target.checked){\n          console.log('found');\n          cat.splice(index, 1)          \n          setCat(cat)     \n       }\n      })\n    }\n    console.log(cat);\n  }\n\n  const handleColor = (e) => {\n    if(!color.includes(e.target.value)){\n      setColor(color =>  [...color, e.target.value])\n    }else if(color.includes(e.target.value)){\n      color.map((c, index) => {\n        console.log('here');\n        if(c === e.target.value && !e.target.checked){\n          console.log('found');\n          color.splice(index, 1)          \n          setColor(color)     \n       }\n      })\n    }\n    console.log(color);\n  }\n\n  const handleSize = (e) => {\n    if(!size.includes(e.target.value)){\n      setSize(size =>  [...size, e.target.value])\n    }else if(size.includes(e.target.value)){\n      size.map((c, index) => {\n        console.log('here');\n        if(c === e.target.value && !e.target.checked){\n          console.log('found');\n          size.splice(index, 1)          \n          setSize(size)     \n       }\n      })\n    }\n    console.log(size);\n  }\n  // const handleColor = (e) => {\n  //   setColor(e.target.value.split(','))\n  // }\n  // const handleSize = (e) => {\n  //   setSize(e.target.value.split(','))\n  // }\n  \n  const handleClick = (e) => {\n    e.preventDefault()\n    const fileName = new Date().getTime() + file.name;\n    const storage = getStorage(app)\n    const StorageRef = ref(storage, fileName)\n \n  const uploadTask = uploadBytesResumable(StorageRef, file);\n\n// Register three observers:\n// 1. 'state_changed' observer, called any time the state changes\n// 2. Error observer, called on failure\n// 3. Completion observer, called on successful completion\nuploadTask.on('state_changed', \n  (snapshot) => {\n    // Observe state change events such as progress, pause, and resume\n    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n    const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n    console.log('Upload is ' + progress + '% done');\n    switch (snapshot.state) {\n      case 'paused':\n        console.log('Upload is paused');\n        break;\n      case 'running':\n        console.log('Upload is running');\n        break;\n        default:\n    }\n  }, \n  (error) => {\n    // Handle unsuccessful uploads\n  }, \n  () => {\n    // Handle successful uploads on complete\n    // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n    getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n      // console.log('File available at', downloadURL);\n      const product = {...inputs, img: downloadURL, categories: cat, color, size };\n      console.log(product);\n      addProducts(product, dispatch)\n    });\n  }\n);\n}\n\nuseEffect(() => {\n  \n}, [cat]);\n\n  \n  return (\n    <div className=\"newProduct\">\n      <h1 className=\"addProductTitle\">New Product</h1>\n      <form className=\"addProductForm\">\n        <div className=\"addProductItem\">\n          <label>Image</label>\n          <input type=\"file\" id=\"file\" onChange={e=>setFile(e.target.files[0])}/>\n        </div>\n        <div className=\"addProductItem\">\n          <label>Title</label>\n          <input name='title' type=\"text\" placeholder=\"Apple Airpods\" onChange={handleChange} />\n        </div>\n        <div className=\"addProductItem\">\n          <label>Price</label>\n          <input name='price' type=\"number\" placeholder=\"Price\" onChange={handleChange} />\n        </div>\n        <div className=\"addProductItem\">\n          <label>Description</label>\n          <input name='desc' type=\"text\" placeholder=\"Description\" onChange={handleChange} />\n        </div>       \n        <div className=\"addProductItem\">\n          <label>Category</label>         \n            <ul className=\"checkbox-grid\" name='categories' onChange={handleCat}>\n              <li><input type=\"checkbox\" name=\"categories\" value=\"kids\" /><label htmlFor=\"text1\">Kids</label></li>\n              <li><input type=\"checkbox\" name=\"categories\" value=\"women\" /><label htmlFor=\"text2\">Women</label></li>\n              <li><input type=\"checkbox\" name=\"categories\" value=\"men\" /><label htmlFor=\"text3\">Men</label></li>\n              <li><input type=\"checkbox\" name=\"categories\" value=\"shirt\" /><label htmlFor=\"text4\">TShirts</label></li>\n              <li><input type=\"checkbox\" name=\"categories\" value=\"bottoms\" /><label htmlFor=\"text5\">Bottoms</label></li>\n              <li><input type=\"checkbox\" name=\"categories\" value=\"jewlery\" /><label htmlFor=\"text6\">Jewlery</label></li>\n              <li><input type=\"checkbox\" name=\"categories\" value=\"sale\" /><label htmlFor=\"text7\">Sale</label></li>\n              <li><input type=\"checkbox\" name=\"categories\" value=\"other\" /><label htmlFor=\"text8\">Other</label></li>\n          </ul>          \n        </div>        \n        <div className=\"addProductItem\">\n          <label>Color</label>         \n            <ul className=\"checkbox-grid\" name='color' onChange={handleColor}>\n              <li><input type=\"checkbox\" name=\"color\" value=\"black\" /><label htmlFor=\"text1\">Black</label></li>\n              <li><input type=\"checkbox\" name=\"color\" value=\"white\" /><label htmlFor=\"text2\">White</label></li>\n              <li><input type=\"checkbox\" name=\"color\" value=\"red\" /><label htmlFor=\"text3\">Red</label></li>\n              <li><input type=\"checkbox\" name=\"color\" value=\"blue\" /><label htmlFor=\"text4\">Blue</label></li>\n              <li><input type=\"checkbox\" name=\"color\" value=\"yellow\" /><label htmlFor=\"text5\">Yellow</label></li>\n              <li><input type=\"checkbox\" name=\"color\" value=\"green\" /><label htmlFor=\"text6\">Green</label></li>\n              <li><input type=\"checkbox\" name=\"color\" value=\"pink\" /><label htmlFor=\"text7\">Pink</label></li>\n              <li><input type=\"checkbox\" name=\"color\" value=\"other\" /><label htmlFor=\"text8\">Other</label></li>\n          </ul>          \n        </div>       \n        <div className=\"addProductItem\">\n          <label>Size</label>         \n            <ul className=\"checkbox-grid\" name='size' onChange={handleSize}>\n              <li><input type=\"checkbox\" name=\"size\" value=\"XS\" /><label htmlFor=\"text1\">XS</label></li>\n              <li><input type=\"checkbox\" name=\"size\" value=\"S\" /><label htmlFor=\"text2\">S</label></li>\n              <li><input type=\"checkbox\" name=\"size\" value=\"M\" /><label htmlFor=\"text3\">M</label></li>\n              <li><input type=\"checkbox\" name=\"size\" value=\"L\" /><label htmlFor=\"text4\">L</label></li>\n              <li><input type=\"checkbox\" name=\"size\" value=\"XL\" /><label htmlFor=\"text5\">XL</label></li>\n              <li><input type=\"checkbox\" name=\"size\" value=\"XXL\" /><label htmlFor=\"text6\">XXL</label></li>\n              <li><input type=\"checkbox\" name=\"size\" value=\"XXXL\" /><label htmlFor=\"text7\">XXXL</label></li>\n              <li><input type=\"checkbox\" name=\"size\" value=\"other\" /><label htmlFor=\"text8\">Other</label></li>\n          </ul>          \n        </div>\n        <div className=\"addProductItem\">\n          <label>Stock</label>\n          <select name='inStock' onChange={handleChange} >\n            <option value='true'>Yes</option>\n            <option value='false'>No</option>\n          </select>\n        </div>\n       \n        <button onClick={handleClick} className=\"addProductButton\">Create</button>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}