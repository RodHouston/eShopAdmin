{"ast":null,"code":"import _regeneratorRuntime from\"/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link}from\"react-router-dom\";import\"./product.css\";import Chart from\"../../components/chart/Chart\";import{productData}from\"../../dummyData\";import{Publish}from\"@material-ui/icons\";import{useLocation}from\"react-router-dom\";import{useSelector}from\"react-redux\";import{useEffect,useMemo,useState}from\"react\";import{userRequest}from\"../../RequestMethods\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Product(){var location=useLocation();var productId=location.pathname.split('/')[2];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productStats=_useState2[0],setProductStats=_useState2[1];var product=useSelector(function(state){return state.product.products.find(function(product){return product._id===productId;});});var MONTHS=useMemo(function(){return['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];},[]);useEffect(function(){var getStats=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,list;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return userRequest.get('orders/income?pid='+productId);case 3:res=_context.sent;list=res.data.sort(function(a,b){return a._id-b._id;});list.map(function(item){return setProductStats(function(prev){return[].concat(_toConsumableArray(prev),[{name:MONTHS[item._id-1],Sales:item.total}]);});});_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getStats(){return _ref.apply(this,arguments);};}();getStats();},[MONTHS]);return/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productTitleContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"productTitle\",children:\"Product\"}),/*#__PURE__*/_jsx(Link,{to:\"/newproduct\",children:/*#__PURE__*/_jsx(\"button\",{className:\"productAddButton\",children:\"Create\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productTop\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"productTopLeft\",children:/*#__PURE__*/_jsx(Chart,{data:productStats,dataKey:\"Sales\",title:\"Sales Performance\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"productTopRight\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoTop\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:\"\",className:\"productInfoImg\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productName\",children:product.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoBottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"productInfoKey\",children:product._id}),/*#__PURE__*/_jsx(\"span\",{className:\"productInfoValue\",children:\"123\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"productInfoKey\",children:\"sales:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productInfoValue\",children:\"5123\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"productInfoKey\",children:\"active:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productInfoValue\",children:\"yes\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"productInfoKey\",children:\"in stock:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productInfoValue\",children:product.inStock})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"productBottom\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"productForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productFormLeft\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:product.title}),/*#__PURE__*/_jsx(\"label\",{children:\"Product Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:product.desc}),/*#__PURE__*/_jsx(\"label\",{children:\"Product Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:product.price}),/*#__PURE__*/_jsx(\"label\",{children:\"In Stock\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"inStock\",id:\"idStock\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"No\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productFormRight\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productUpload\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.img}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file\",children:/*#__PURE__*/_jsx(Publish,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",style:{display:\"none\"}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"productButton\",children:\"Update\"})]})]})})]});}","map":{"version":3,"sources":["/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/src/pages/product/Product.jsx"],"names":["Link","Chart","productData","Publish","useLocation","useSelector","useEffect","useMemo","useState","userRequest","Product","location","productId","pathname","split","productStats","setProductStats","product","state","products","find","_id","MONTHS","getStats","get","res","list","data","sort","a","b","map","item","prev","name","Sales","total","img","title","inStock","desc","price","display"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\nimport \"./product.css\";\nimport Chart from \"../../components/chart/Chart\"\nimport {productData} from \"../../dummyData\"\nimport { Publish } from \"@material-ui/icons\";\nimport { useLocation } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { userRequest } from \"../../RequestMethods\";\n\nexport default function Product() {\n\n    const location = useLocation()\n    const productId = location.pathname.split('/')[2];\n    const [productStats, setProductStats] = useState([])\n\n    const product = useSelector((state) => \n        state.product.products.find(product => product._id === productId) )\n\n    const MONTHS = useMemo(\n        () => [\n          'Jan',\n          'Feb',\n          'Mar',\n          'Apr',\n          'May',\n          'Jun',\n          'Jul',\n          'Aug',\n          'Sep',\n          'Oct',\n          'Nov',\n          'Dec',\n        ],\n        [])\n\n        useEffect(() => {\n            const getStats = async () => {\n              try {\n                const res = await userRequest.get('orders/income?pid=' + productId)\n                const list = res.data.sort((a,b) => {\n                    return a._id - b._id\n                })\n                list.map((item)=>\n                  setProductStats((prev)=>[\n                    ...prev, \n                    {name:MONTHS[item._id - 1], Sales: item.total},\n                  ])\n                )\n              } catch (error) {}\n            }\n            getStats()\n          },[MONTHS])\n          \n         \n\n  return (\n    <div className=\"product\">\n      <div className=\"productTitleContainer\">\n        <h1 className=\"productTitle\">Product</h1>\n        <Link to=\"/newproduct\">\n          <button className=\"productAddButton\">Create</button>\n        </Link>\n      </div>\n      <div className=\"productTop\">\n          <div className=\"productTopLeft\">\n              <Chart data={productStats} dataKey=\"Sales\" title=\"Sales Performance\"/>\n          </div>\n          <div className=\"productTopRight\">\n              <div className=\"productInfoTop\">\n                  <img src={product.img} alt=\"\" className=\"productInfoImg\" />\n                  <span className=\"productName\">{product.title}</span>\n              </div>\n              <div className=\"productInfoBottom\">\n                  <div className=\"productInfoItem\">\n                      <span className=\"productInfoKey\">{product._id}</span>\n                      <span className=\"productInfoValue\">123</span>\n                  </div>\n                  <div className=\"productInfoItem\">\n                      <span className=\"productInfoKey\">sales:</span>\n                      <span className=\"productInfoValue\">5123</span>\n                  </div>\n                  <div className=\"productInfoItem\">\n                      <span className=\"productInfoKey\">active:</span>\n                      <span className=\"productInfoValue\">yes</span>\n                  </div>\n                  <div className=\"productInfoItem\">\n                      <span className=\"productInfoKey\">in stock:</span>\n                      <span className=\"productInfoValue\">{product.inStock}</span>\n                  </div>\n              </div>\n          </div>\n      </div>\n      <div className=\"productBottom\">\n          <form className=\"productForm\">\n              <div className=\"productFormLeft\">\n                  <label>Product Name</label>\n                  <input type=\"text\" placeholder={product.title} />\n                  <label>Product Description</label>\n                  <input type=\"text\" placeholder={product.desc} />\n                  <label>Product Price</label>\n                  <input type=\"text\" placeholder={product.price} />\n                  <label>In Stock</label>\n                  <select name=\"inStock\" id=\"idStock\">\n                      <option value=\"true\">Yes</option>\n                      <option value=\"false\">No</option>\n                  </select>                  \n              </div>\n              <div className=\"productFormRight\">\n                  <div className=\"productUpload\">\n                      <img src={product.img} />\n                      <label htmlFor=\"file\">\n                          <Publish/>\n                      </label>\n                      <input type=\"file\" id=\"file\" style={{display:\"none\"}} />\n                  </div>\n                  <button className=\"productButton\">Update</button>\n              </div>\n          </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}