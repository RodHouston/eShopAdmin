{"ast":null,"code":"var _jsxFileName = \"/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/src/pages/newProductCategory/NewProductCatergory.jsx\",\n    _s = $RefreshSig$();\n\nimport { Link } from \"react-router-dom\";\nimport \"./newProductCategory.css\";\nimport Chart from \"../../components/chart/Chart\";\nimport { productData } from \"../../dummyData\";\nimport { Publish } from \"@material-ui/icons\";\nimport { useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { userRequest } from \"../../RequestMethods\";\nimport { addPhotosFireBase, addProductCatergory, addProducts, updateProducts } from \"../../redux/apiCalls\";\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL, deleteObject } from \"firebase/storage\";\nimport app from \"../../firebase\";\nimport { addPhotos, clearXPhotos } from \"../../redux/productRedux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NewProductCategory() {\n  _s();\n\n  const location = useLocation();\n  const productId = location.pathname.split('/')[2];\n  const [productStats, setProductStats] = useState([]);\n  const category = useSelector(state => {\n    var _state$category, _state$category$categ;\n\n    return (_state$category = state.category) === null || _state$category === void 0 ? void 0 : (_state$category$categ = _state$category.category) === null || _state$category$categ === void 0 ? void 0 : _state$category$categ.find(category => (category === null || category === void 0 ? void 0 : category._id) === productId);\n  });\n  const [prod, setPro] = useState(category);\n  const [inputs, setInputs] = useState(category);\n  const [file, setFile] = useState(category === null || category === void 0 ? void 0 : category.img);\n  const [cat, setCat] = useState('');\n  const [catPush, setCatPush] = useState({\n    title: '',\n    img: '',\n    cat: '',\n    subCats: [{\n      tags: [],\n      subTitle: ''\n    }]\n  });\n  const [title, setTitle] = useState([]);\n  const [subCat, setSubCat] = useState([]);\n  const [subCatPre, setSubCatPre] = useState([]);\n  const [subTags, setSubTags] = useState([]);\n  const [subTagsPre, setSubTagsPre] = useState('');\n  const [subTitle, setSubTitle] = useState([]);\n  const [subTitlePre, setSubTitlePre] = useState('');\n  const [gender, setGender] = useState(category === null || category === void 0 ? void 0 : category.gender);\n  const [color, setColor] = useState(category === null || category === void 0 ? void 0 : category.color);\n  const [size, setSize] = useState(category === null || category === void 0 ? void 0 : category.size);\n  const [salePrice, setSalePrice] = useState(0);\n  const extraPhotos = useSelector(state => {\n    var _state$category2;\n\n    return (_state$category2 = state.category) === null || _state$category2 === void 0 ? void 0 : _state$category2.extraPhotos;\n  });\n  const [isMainPhoto, setIsMainPhoto] = useState(false);\n  const [isExtraPhotos, setIsExtraPhoto] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [multiPhotosUpload, setMultiPhotosUpload] = useState([]);\n  let mainPho = '';\n\n  if ((category === null || category === void 0 ? void 0 : category.img) == '') {\n    mainPho = '../photos/proPic.jpeg';\n  } else {\n    mainPho = category === null || category === void 0 ? void 0 : category.img;\n  }\n\n  const [mainPhoto, setMainPhoto] = useState(mainPho);\n  const [mainPreviewFile, setMainPreviewFile] = useState(mainPho);\n  const [multiPhotos, setMultiPhotos] = useState('');\n  const [previewFiles, setPreviewFiles] = useState('');\n  const dispatch = useDispatch();\n\n  const handleChange = e => {\n    setPro(prev => {\n      return { ...prev,\n        [e.target.name]: e.target.value\n      };\n    });\n    setInputs(prev => {\n      return { ...prev,\n        [e.target.name]: e.target.value\n      };\n    });\n  };\n\n  const handleCat = e => {\n    setCat(e.target.value);\n    console.log(cat);\n  }; //GET SUBTITLE ON CHANGE\n\n\n  const handleSubTileChange = e => {\n    console.log(\"In HAndleSubTitleChange\");\n    setSubTitlePre(e.target.value);\n  };\n\n  const handleSubTagChange = e => {\n    const sc = e.target.value;\n    console.log(\"In HAndleSubTagsChange\"); // console.log(sc);\n\n    if (sc != ' ') {\n      if (!(subTags === null || subTags === void 0 ? void 0 : subTags.includes(sc))) {\n        setSubTagsPre(e.target.value);\n      } else if (subTags === null || subTags === void 0 ? void 0 : subTags.includes(sc)) {\n        console.log(\"SubTag already added\");\n      }\n    }\n  };\n\n  const handleSubTags = e => {\n    e.preventDefault();\n    console.log(\"In HAndleSubTags\");\n\n    if (subTagsPre != '') {\n      setSubTags(subTags => [...subTags, subTagsPre]);\n      setSubTagsPre('');\n    } else if (subTagsPre == '') {\n      console.log(\"SubTags empty\");\n    }\n  };\n\n  const handleSubCat = e => {\n    e.preventDefault();\n    const subSub = {\n      tags: subTags,\n      subTitle: subTitlePre\n    };\n    setSubCatPre(subSub);\n    setSubCat(subCat => [...subCat, subSub]);\n    setSubTags([]);\n    setSubTagsPre('');\n    setCatPush({ ...catPush,\n      title,\n      img: mainPhoto,\n      cat,\n      subCats: subCat\n    });\n  };\n\n  const handleFireBase = e => {\n    e.preventDefault();\n    let items = [];\n    let itemsProcessed = 0;\n    let haveFiles = false;\n    let isSuccesful = false;\n    console.log(mainPhoto);\n    let file = mainPhoto;\n    const fileName = file === null || file === void 0 ? void 0 : file.name;\n    const storage = getStorage(app);\n    const StorageRef = ref(storage, `images/categoryImages/${subTitlePre}/${fileName}`);\n    const uploadTask = uploadBytesResumable(StorageRef, file);\n    uploadTask.on('state_changed', snapshot => {\n      const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n      console.log('Upload is ' + progress + '% done');\n\n      switch (snapshot.state) {\n        case 'paused':\n          console.log('Upload is paused');\n          break;\n\n        case 'running':\n          console.log('Upload is running');\n          break;\n\n        default:\n      }\n\n      console.log('Upload is ' + progress + '% done');\n    }, error => {\n      // Handle unsuccessful uploads\n      console.log(error);\n    }, async () => {\n      await getDownloadURL(uploadTask.snapshot.ref).then(downloadURL => {\n        console.log('File available at', downloadURL);\n        mainPho = downloadURL;\n        isSuccesful = true;\n      });\n\n      if (isSuccesful) {\n        const newCat = { ...catPush,\n          title,\n          img: mainPho,\n          cat,\n          subCats: subCat\n        };\n        await addProductCatergory(newCat, dispatch).then(res => {\n          console.log(\"Success, we need to REFRSH\");\n        });\n      }\n    }); // if (!haveFiles) {\n    //   const newCat = { ...catPush, title,  cat, subCats: subCat }\n    //   addProductCatergory(newCat, dispatch).then((res) => {\n    //     console.log(\"We dont have files and need to REFRSH\");\n    //   })\n    //   }\n  };\n\n  const handleMainPhoto = e => {\n    setIsMainPhoto(true); // console.log(e);\n\n    let newMain = mainPho;\n    newMain = e;\n    let mainPre = mainPreviewFile;\n    mainPre = URL.createObjectURL(e); // console.log(newMain);\n    // console.log(mainPre);\n\n    setMainPhoto(newMain);\n    setMainPreviewFile(mainPre);\n  };\n\n  const handleAll = async e => {\n    e.preventDefault();\n    const newCat = { ...catPush,\n      title,\n      img: mainPhoto,\n      cat,\n      subCats: subCat\n    };\n    console.log(newCat);\n    console.log(\"running upload\"); // await upLoadPhoto()\n    // await addPhotosFireBase(multiPhotos, mainPhoto, isMainPhoto, isExtraPhotos, dispatch)\n  };\n\n  console.log(title);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productTitleContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"productTitle\",\n        children: \"Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/newproduct\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"productAddButton\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productTop\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productTopLeft\",\n        children: /*#__PURE__*/_jsxDEV(Chart, {\n          data: productStats,\n          dataKey: \"Sales\",\n          title: \"Sales Performance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productTopRight\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productInfoTop\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: mainPreviewFile,\n            alt: \"\",\n            className: \"productInfoImg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"productName\",\n            children: category === null || category === void 0 ? void 0 : category.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productInfoBottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productInfoItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoKey\",\n              children: category === null || category === void 0 ? void 0 : category._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoValue\",\n              children: \"123\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productInfoItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoKey\",\n              children: \"sales:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoValue\",\n              children: \"5123\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productInfoItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoKey\",\n              children: \"active:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoValue\",\n              children: \"yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productInfoItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoKey\",\n              children: \"in stock:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoValue\",\n              children: category === null || category === void 0 ? void 0 : category.inStock\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productBottom\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"productForm\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productFormLeft\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" wholeSalePair\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"addProductItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"file\",\n                onChange: e => handleMainPhoto(e.target.files[0])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"productUpload\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"productPic\",\n                src: mainPreviewFile\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file\",\n                children: /*#__PURE__*/_jsxDEV(Publish, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"file\",\n                style: {\n                  display: \"none\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"addProductItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"title\",\n              type: \"text\",\n              defaultValue: category === null || category === void 0 ? void 0 : category.title,\n              onChange: e => setTitle(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"addProductItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"MainCat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"title\",\n              type: \"text\",\n              defaultValue: \"men\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"subCatObj\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"SubCat Object\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"addProductItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"SubCat Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"title\",\n                type: \"text\",\n                defaultValue: \"top\",\n                onChange: handleSubTileChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"addProductItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"SubCat tags\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"subCats\",\n                type: \"text\",\n                defaultValue: subTagsPre,\n                onChange: handleSubTagChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSubTags,\n                children: \"Add Another Sub Tag\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \" SUB CATS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), subTags === null || subTags === void 0 ? void 0 : subTags.map((sTags, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: sTags\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this)\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubCat,\n              children: \"Add Another Sub Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), subCat === null || subCat === void 0 ? void 0 : subCat.map((sC, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"SUB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: sC.subTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 21\n              }, this), sC === null || sC === void 0 ? void 0 : sC.tags.map((sTag, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"TEST\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: sTag\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 25\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 23\n              }, this))]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"desc\",\n            className: \"txtArea\",\n            rows: \"4\",\n            cols: \"50\",\n            defaultValue: category === null || category === void 0 ? void 0 : category.desc,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" wholeSalePair\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"catDivs\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Cat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"checkbox-grids\",\n                name: \"cat\",\n                onChange: handleCat,\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    name: \"gender\",\n                    value: \"graphics\",\n                    defaultChecked: (category === null || category === void 0 ? void 0 : category.cat) == 'graphics'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Graphics\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 124\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    name: \"cat\",\n                    value: \"boys\",\n                    defaultChecked: (category === null || category === void 0 ? void 0 : category.cat) == 'boys'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Boys\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 113\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    name: \"cat\",\n                    value: \"girls\",\n                    defaultChecked: (category === null || category === void 0 ? void 0 : category.cat) == 'girls'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Girls\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 115\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    name: \"cat\",\n                    value: \"ladies\",\n                    defaultChecked: (category === null || category === void 0 ? void 0 : category.cat) == 'ladies'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Women\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 117\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    name: \"cat\",\n                    value: \"men\",\n                    defaultChecked: (category === null || category === void 0 ? void 0 : category.cat) == 'men'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Men\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 111\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    name: \"cat\",\n                    value: \"unisex\",\n                    defaultChecked: (category === null || category === void 0 ? void 0 : category.cat) == 'unisex'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Unisex\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 117\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"productButton\",\n            onClick: handleFireBase,\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NewProductCategory, \"IJU22LtYK9W/waCgYG/JR+/5qYk=\", false, function () {\n  return [useLocation, useSelector, useSelector, useDispatch];\n});\n\n_c = NewProductCategory;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewProductCategory\");","map":{"version":3,"sources":["/Users/roderickhouston/Desktop/GA Projects/eCommerceAdmin/src/pages/newProductCategory/NewProductCatergory.jsx"],"names":["Link","Chart","productData","Publish","useLocation","useDispatch","useSelector","useEffect","useMemo","useState","userRequest","addPhotosFireBase","addProductCatergory","addProducts","updateProducts","getStorage","ref","uploadBytesResumable","getDownloadURL","deleteObject","app","addPhotos","clearXPhotos","NewProductCategory","location","productId","pathname","split","productStats","setProductStats","category","state","find","_id","prod","setPro","inputs","setInputs","file","setFile","img","cat","setCat","catPush","setCatPush","title","subCats","tags","subTitle","setTitle","subCat","setSubCat","subCatPre","setSubCatPre","subTags","setSubTags","subTagsPre","setSubTagsPre","setSubTitle","subTitlePre","setSubTitlePre","gender","setGender","color","setColor","size","setSize","salePrice","setSalePrice","extraPhotos","isMainPhoto","setIsMainPhoto","isExtraPhotos","setIsExtraPhoto","isUploading","setIsUploading","multiPhotosUpload","setMultiPhotosUpload","mainPho","mainPhoto","setMainPhoto","mainPreviewFile","setMainPreviewFile","multiPhotos","setMultiPhotos","previewFiles","setPreviewFiles","dispatch","handleChange","e","prev","target","name","value","handleCat","console","log","handleSubTileChange","handleSubTagChange","sc","includes","handleSubTags","preventDefault","handleSubCat","subSub","handleFireBase","items","itemsProcessed","haveFiles","isSuccesful","fileName","storage","StorageRef","uploadTask","on","snapshot","progress","bytesTransferred","totalBytes","error","then","downloadURL","newCat","res","handleMainPhoto","newMain","mainPre","URL","createObjectURL","handleAll","inStock","files","display","map","sTags","idx","sC","sTag","desc"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\nimport \"./newProductCategory.css\";\nimport Chart from \"../../components/chart/Chart\"\nimport { productData } from \"../../dummyData\"\nimport { Publish } from \"@material-ui/icons\";\nimport { useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { userRequest } from \"../../RequestMethods\";\nimport { addPhotosFireBase, addProductCatergory, addProducts, updateProducts } from \"../../redux/apiCalls\";\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL, deleteObject } from \"firebase/storage\";\nimport app from \"../../firebase\"\nimport { addPhotos, clearXPhotos } from \"../../redux/productRedux\";\n\nexport default function NewProductCategory() {\n\n\n  const location = useLocation()\n  const productId = location.pathname.split('/')[2];\n  const [productStats, setProductStats] = useState([])\n\n  const category = useSelector((state) => state.category?.category?.find(category => category?._id === productId))\n  const [prod, setPro] = useState(category)\n  const [inputs, setInputs] = useState(category)\n  const [file, setFile] = useState(category?.img)\n  const [cat, setCat] = useState('')\n  const [catPush, setCatPush] = useState({\n    title: '',\n    img: '',\n    cat: '',\n    subCats: [{\n      tags: [],\n      subTitle: ''\n    }],\n  })\n\n  const [title, setTitle] = useState([])\n  const [subCat, setSubCat] = useState([])\n  const [subCatPre, setSubCatPre] = useState([])\n  const [subTags, setSubTags] = useState([])\n  const [subTagsPre, setSubTagsPre] = useState('')\n  const [subTitle, setSubTitle] = useState([])\n  const [subTitlePre, setSubTitlePre] = useState('')\n\n\n  const [gender, setGender] = useState(category?.gender)\n  const [color, setColor] = useState(category?.color)\n  const [size, setSize] = useState(category?.size)\n  const [salePrice, setSalePrice] = useState(0)\n\n  const extraPhotos = useSelector(state => state.category?.extraPhotos)\n  const [isMainPhoto, setIsMainPhoto] = useState(false)\n  const [isExtraPhotos, setIsExtraPhoto] = useState(false)\n  const [isUploading, setIsUploading] = useState(false)\n\n  const [multiPhotosUpload, setMultiPhotosUpload] = useState([])\n\n\n  let mainPho = ''\n  if (category?.img == '') {\n    mainPho = '../photos/proPic.jpeg'\n  } else {\n    mainPho = category?.img\n  }\n\n  const [mainPhoto, setMainPhoto] = useState(mainPho)\n  const [mainPreviewFile, setMainPreviewFile] = useState(mainPho)\n\n  const [multiPhotos, setMultiPhotos] = useState('')\n  const [previewFiles, setPreviewFiles] = useState('')\n\n\n  const dispatch = useDispatch()\n\n\n  const handleChange = (e) => {\n    setPro(prev => {\n      return { ...prev, [e.target.name]: e.target.value }\n    })\n    setInputs(prev => {\n      return { ...prev, [e.target.name]: e.target.value }\n    })\n  }\n\n  const handleCat = (e) => {\n    setCat(e.target.value)\n    console.log(cat);\n  }\n\n  //GET SUBTITLE ON CHANGE\n  const handleSubTileChange = (e) => {\n    console.log(\"In HAndleSubTitleChange\");\n    setSubTitlePre(e.target.value)\n  }\n\n  const handleSubTagChange = (e) => {\n    const sc = e.target.value\n    console.log(\"In HAndleSubTagsChange\");\n    // console.log(sc);\n    if (sc != ' ') {\n      if (!(subTags?.includes(sc))) {\n        setSubTagsPre(e.target.value)\n      } else if (subTags?.includes(sc)) {\n        console.log(\"SubTag already added\");\n      }\n    }\n  }\n\n  const handleSubTags = (e) => {\n    e.preventDefault()\n    console.log(\"In HAndleSubTags\");\n    if (subTagsPre != '') {\n      setSubTags(subTags => [...subTags, subTagsPre])\n      setSubTagsPre('')\n    } else if (subTagsPre == '') {\n      console.log(\"SubTags empty\");\n    }\n  }\n\n  const handleSubCat = (e) => {\n    e.preventDefault()\n    const subSub = {\n      tags: subTags,\n      subTitle: subTitlePre\n    }\n    setSubCatPre(subSub)\n    setSubCat(subCat => [...subCat, subSub])\n    setSubTags([])\n    setSubTagsPre('')\n    setCatPush({ ...catPush, title, img: mainPhoto, cat, subCats: subCat })\n  }\n\n  const handleFireBase = (e) => {\n    e.preventDefault()\n    let items = []\n    let itemsProcessed = 0\n    let haveFiles = false\n    let isSuccesful = false\n    console.log(mainPhoto);\n    let file = mainPhoto\n    const fileName = file?.name;\n    const storage = getStorage(app)\n    const StorageRef = ref(storage, `images/categoryImages/${subTitlePre}/${fileName}`)\n    const uploadTask = uploadBytesResumable(StorageRef, file);\n    uploadTask.on('state_changed', (snapshot) => {\n      const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n      console.log('Upload is ' + progress + '% done');\n      switch (snapshot.state) {\n        case 'paused':\n          console.log('Upload is paused');\n          break;\n        case 'running':\n          console.log('Upload is running');\n          break;\n        default:\n      }\n      console.log('Upload is ' + progress + '% done');\n    },\n      (error) => {\n        // Handle unsuccessful uploads\n        console.log(error);\n      },\n      async () => {\n        await getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n          console.log('File available at', downloadURL);\n          mainPho = downloadURL\n          isSuccesful = true\n        });\n\n        if (isSuccesful) {\n          const newCat = { ...catPush, title, img: mainPho, cat, subCats: subCat }\n          await addProductCatergory(newCat, dispatch).then((res) => {\n            console.log(\"Success, we need to REFRSH\");\n          })\n        }\n      });\n\n\n\n    // if (!haveFiles) {\n    //   const newCat = { ...catPush, title,  cat, subCats: subCat }\n    //   addProductCatergory(newCat, dispatch).then((res) => {\n    //     console.log(\"We dont have files and need to REFRSH\");\n    //   })\n\n    //   }\n  }\n\n\n  const handleMainPhoto = (e) => {\n    setIsMainPhoto(true)\n    // console.log(e);\n    let newMain = mainPho\n    newMain = e\n    let mainPre = mainPreviewFile\n    mainPre = URL.createObjectURL(e)\n    // console.log(newMain);\n    // console.log(mainPre);\n    setMainPhoto(newMain)\n    setMainPreviewFile(mainPre)\n  }\n\n  const handleAll = async (e) => {\n    e.preventDefault()\n    const newCat = { ...catPush, title, img: mainPhoto, cat, subCats: subCat }\n    console.log(newCat);\n    console.log(\"running upload\");\n    // await upLoadPhoto()\n    // await addPhotosFireBase(multiPhotos, mainPhoto, isMainPhoto, isExtraPhotos, dispatch)\n  }\n\n  console.log(title);\n\n  return (\n    <div className=\"product\">\n      <div className=\"productTitleContainer\">\n        <h1 className=\"productTitle\">Product</h1>\n        <Link to=\"/newproduct\">\n          <button className=\"productAddButton\">Create</button>\n        </Link>\n      </div>\n      <div className=\"productTop\">\n        <div className=\"productTopLeft\">\n          <Chart data={productStats} dataKey=\"Sales\" title=\"Sales Performance\" />\n        </div>\n\n        <div className=\"productTopRight\">\n          <div className=\"productInfoTop\">\n            <img src={mainPreviewFile} alt=\"\" className=\"productInfoImg\" />\n            <span className=\"productName\">{category?.title}</span>\n          </div>\n          <div className=\"productInfoBottom\">\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">{category?._id}</span>\n              <span className=\"productInfoValue\">123</span>\n            </div>\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">sales:</span>\n              <span className=\"productInfoValue\">5123</span>\n            </div>\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">active:</span>\n              <span className=\"productInfoValue\">yes</span>\n            </div>\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">in stock:</span>\n              <span className=\"productInfoValue\">{category?.inStock}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n\n      <div className=\"productBottom\">\n        <form className=\"productForm\">\n          <div className=\"productFormLeft\">\n            <div className=\" wholeSalePair\">\n              <div className=\"addProductItem\">\n                <label>Image</label>\n                <input type=\"file\" id=\"file\" onChange={e => handleMainPhoto(e.target.files[0])} />\n              </div>\n              <div className=\"productUpload\">\n                <img className=\"productPic\" src={mainPreviewFile} />\n                <label htmlFor=\"file\">\n                  <Publish />\n                </label>\n                <input type=\"file\" id=\"file\" style={{ display: \"none\" }} />\n              </div >\n            </div>\n\n\n            <div className=\"addProductItem\">\n              <label>Title</label>\n              <input name='title' type=\"text\" defaultValue={category?.title} onChange={(e) => setTitle(e.target.value)} />\n            </div>\n\n            <div className=\"addProductItem\">\n              <label>MainCat</label>\n              <input name='title' type=\"text\" defaultValue='men' onChange={handleChange} />\n            </div>\n\n\n\n            <div className=\"subCatObj\">\n              <h3>SubCat Object</h3>\n              <div className=\"addProductItem\">\n                <label>SubCat Title</label>\n                <input name='title' type=\"text\" defaultValue='top' onChange={handleSubTileChange} />\n              </div>\n              <div className=\"addProductItem\">\n                <label>SubCat tags</label>\n                <input name='subCats' type=\"text\" defaultValue={subTagsPre} onChange={handleSubTagChange} />\n                <button onClick={handleSubTags}>Add Another Sub Tag</button>\n              </div>\n\n              <div>\n                <p> SUB CATS</p>\n                {subTags?.map((sTags, idx) => (\n                  <div key={idx}>\n                    <p>{sTags}</p>\n                  </div>\n                ))\n                }\n              </div>\n\n              <button onClick={handleSubCat}>Add Another Sub Category</button>\n\n              {\n                subCat?.map((sC, idx) => (\n                  <div key={idx}>\n                    <h3>SUB</h3>\n                    <h4>{sC.subTitle}</h4>\n                    {sC?.tags.map((sTag, idx) => (\n                      <div key={idx}>\n                        <p>TEST</p>\n                        <p key={idx}>{sTag}</p>\n                      </div>\n                    ))\n                    }\n                  </div>\n                ))\n              }\n            </div>\n\n            <label>Description</label>\n            <textarea name='desc' className='txtArea' rows=\"4\" cols=\"50\" defaultValue={category?.desc} onChange={handleChange}></textarea>\n            <div className=\" wholeSalePair\">\n              <div className=\"catDivs\">\n                <label>Cat</label>\n                <ul className=\"checkbox-grids\" name='cat' onChange={handleCat}>\n                  <li><input type=\"checkbox\" name='gender' value=\"graphics\" defaultChecked={category?.cat == 'graphics'} /><label >Graphics</label></li>\n                  <li><input type=\"checkbox\" name='cat' value=\"boys\" defaultChecked={category?.cat == 'boys'} /><label >Boys</label></li>\n                  <li><input type=\"checkbox\" name='cat' value=\"girls\" defaultChecked={category?.cat == 'girls'} /><label >Girls</label></li>\n                  <li><input type=\"checkbox\" name='cat' value=\"ladies\" defaultChecked={category?.cat == 'ladies'} /><label >Women</label></li>\n                  <li><input type=\"checkbox\" name='cat' value=\"men\" defaultChecked={category?.cat == 'men'} /><label >Men</label></li>\n                  <li><input type=\"checkbox\" name='cat' value=\"unisex\" defaultChecked={category?.cat == 'unisex'} /><label>Unisex</label></li>\n                </ul>\n              </div>\n              </div>\n              <button className=\"productButton\" onClick={handleFireBase}>Update</button >\n\n       \n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}